---
title: Search Interaction
keywords: structured rest documentreference
tags: [fhir,pointers,for_consumers]
sidebar: accessrecord_rest_sidebar
permalink: api_interaction_search.html
summary: Record Locator search interaction development guidance.
---

## Introduction

A consumer can perform parameterised searches of pointers held within the RL using the search interaction, filtering on:

- Patient's NHS Number.
- The [type](https://developer.nhs.uk/apis/nrl/supported_pointer_types.html) of data the pointer references.

The NRL's [search interaction](https://developer.nhs.uk/apis/nrl/api_interaction_search.html) implementation should be largely emulated when designing a Local Record Locator, however, some significant differences **MUST** be taken into consideration, specifically when the NRL acts as the LRL's consumer. Those differences are detailed in this specification.

{% include note.html content="The NRL may not be the LRL's only consumer; how other consumers interact with the LRL is outside the scope of this documentation, however, it's recommended to align all consumers to the same API wherever possible."%}

## Search Request Headers

TBC - fromASID/toASID
TBC - How to prove the request originated from the NRL??

## Search Parameters

The NRL [accepts a variety of search parameters](https://developer.nhs.uk/apis/nrl/api_interaction_search.html#search-parameters). When a patient pointer triggers the NRL makes a call out to the LRL to obtain any granular pointers, the search call made will only ever contain the following parameters:
- subject
- type

i.e. the following parameters will never appear on a consumer call originating from the NRL:
- _id
- custodian
- _summary

The LRL therefore has the option of implementing, or not implementing code to handle the parameters not utilised by the NRL. This will likely be determined by the expectation of other consumers wishing to call the search interaction.

## Search Response

Unlike the NRL, only granular pointers should be returned by a LHCR's RL.

### Success

Successful responses **MUST** be in the [same format as the NRL](https://developer.nhs.uk/apis/nrl/api_interaction_search.html#success)  (subject to any [type filtering](development_overview.html#supported-pointer-types)) for example:
- [No pointers matched](https://developer.nhs.uk/apis/nrl/api_interaction_search.html#example-no-pointers-response)
- [Single pointer matched](https://developer.nhs.uk/apis/nrl/api_interaction_search.html#example-single-pointer-response)
- [Multiple pointers matched](https://developer.nhs.uk/apis/nrl/api_interaction_search.html#example-multiple-pointers-response)

There is one additional scenario that **MUST** be covered by RLs - partial success - this is detailed below.

### Partial Success (Distributed Systems)

A LHCR may decide not to maintain a central index of known pointers across its estate, instead, its LRL may connect to a variety of remote systems to establish a full list of pointers available across the LHCR each time a search interaction is initiated.

For example, let's say an LRL calls five remote systems to search for pointers belonging to a particular patient and:
- one fails with a `400` **Bad Request** because the request was invalid.
- one fails with a `404` **Not Found** because no pointers exist for the patient.
- one fails with a `408` **Request Timeout**.
- one fails with a `503` **Service Unavailable** because the remote system is temporarily unavailable.
- one is successful (`200` **OK**), returning seven results.

Only two of the remote systems (with `404` and `200` status codes) responded with conclusive results. Rather than aborting the entire request and returning an error to the client, the RL can (and should) return the results it has been able to identify (if any), but also inform the client of the inconclusive nature of the `searchset`. This is achieved by including an `OperationOutcome` entry in the `searchset` `Bundle` which contains a record of each error.

In this example, the `404` indicates a conclusive result because the remote system has no records for matching the patient's NHS Number, however, a `404` may be returned for a variety of reasons, and simply relying on HTTP status code alone is not sufficient - the RL must understand the meaning of responses for each remote system to determine the success, or otherwise, of the response.

{% include note.html content="`OperationOutcome` entries **MUST NOT** increment the `Bundle.total` value. For example, a `searchset` `Bundle` containing entries [OperationOutcome, DocumentReference, DocumentReference] would have a `Bundle.total` value of 2."%}

A maximum of one `OperationOutcome` may be returned, which **MUST** contain one or multiple issues, each representing a problem encountered by the RL when interacting with a single remote system. Following the earlier example, there would be three issues listed within the `OperationOutcome`, each carrying details pertinent to the corresponding system.

{% include important.html content="In the event of partial success the RL **MUST EITHER** return a `searchset` containing an `OperationOutcome` detailing all errors as described above **OR** a `500` **Internal Server Error** HTTP error i.e. it **MUST NEVER** return partial results without an `OperationOutcome` containing partial failure details." %}

#### Partial Success Response

A partial success response will include:
- A `200` **OK** HTTP status code.
- Pointers found from remote systems (subject to any [type filtering](development_overview.html#supported-pointer-types)).
- A single `OperationOutcome` in the `Bundle` indicating details of failures that occurred when calling out to external systems.

{% include note.html content="A partial success response **MUST NOT** be used to represent failures within the RL itself. If the error is due to a problem with the RL (meaning not even a partial `searchset` can be returned, a `500` **Internal Server Error** should be returned to the consumer."%}

#### OperationOutcome

Issues in a partial success `OperationOutcome` **MUST** match the appropriate structure:

|Element|Content|
|-------|-------|
| `id` | A UUID for this `OperationOutcome`. |
| `meta.profile` | Fixed value: `https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1` |
| `issue.severity` | Fixed value: `warning` |
| `issue.code` | Fixed value: `exception` |
| `issue.details.coding.system` | \[4xx client error\] ?<br />\[5xx server error\] ? |
| `issue.details.coding.code` | \[4xx client error\] ?<br />\[5xx server error\] ? |
| `issue.details.coding.display` | \[4xx client error\] ?<br />\[5xx server error\] ? |
| `issue.diagnostics` | _Optional - information the consumer can relay back to the NRL support team to help trace the issue that led to the error._ |

|issue-severity|issue-type|Details.Code|Details.Display|Diagnostics|
|--------------|----------|------------|---------------|-----------|
|warning|`[as returned from external system]`|`[as returned from external system]`|`[as returned from external system]`|`[as returned from external system]`|
|warning|exception|Unable to complete search request - %s (Where %s is the query string)|The request exists but is not in an appropriate state for the call to succeed|_Optional - information that the consumer client can relay back to the aggregator support team in order to help them trace the issue that led to the given OperationOutcome_|

#### Example Partial Success Response (searchset Bundle with OperationOutcome)

The following example shows a `Bundle` resource of type `searchset` with:
- A `Bundle.total` value of 1.
- A `DocumentReference` resource conforming to the [`NRL-DocumentReference-1`](https://fhir.nhs.uk/STU3/StructureDefinition/NRL-DocumentReference-1) profile.
- An `OperationOutcome` resource conforming to the [`Spine-OperationOutcome-1`](https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1) profile with details of an issue that occurred.

<div class="github-sample-wrapper scroll-height-350">
{% highlight XML %}
<Bundle xmlns="http://hl7.org/fhir">
  <id value="714aa0a4-8fd4-4fc1-9df9-ad9f1312c982" />
  <meta>
    <lastUpdated value="2020-05-22T09:03:40.172+00:00" />
  </meta>
  <type value="searchset" />
  <total value="1" />
  <link>
    <relation value="self" />
    <url value="https://us-central1-adh-nrls.cloudfunctions.net/DocumentReference?subject=https%3A%2F%2Fdemographics.spineservices.nhs.uk%2FSTU3%2FPatient%2F9690869035" />
  </link>
  <entry>
    <fullUrl value="http://35.246.116.71:5001/nrls-ri/DocumentReference/5ea1aae82f5bfb00013ddae7" />
    <resource>
      <DocumentReference>
        <id value="5ea1aae82f5bfb00013ddae7" />
        <meta>
          <versionId value="1" />
          <lastUpdated value="2020-04-23T14:49:12.192+00:00" />
          <profile value="https://fhir.nhs.uk/STU3/StructureDefinition/NRL-DocumentReference-1" />
        </meta>
        <status value="current" />
        <type>
          <coding>
            <system value="http://snomed.info/sct" />
            <code value="736253002" />
            <display value="Mental health crisis plan" />
          </coding>
        </type>
        <subject>
          <reference value="https://demographics.spineservices.nhs.uk/STU3/Patient/9690869035" />
        </subject>
        <author>
          <reference value="https://directory.spineservices.nhs.uk/STU3/Organization/MHT01" />
        </author>
        <custodian>
          <reference value="https://directory.spineservices.nhs.uk/STU3/Organization/MHT01" />
        </custodian>
        <content>
          <extension url="https://fhir.nhs.uk/STU3/StructureDefinition/Extension-NRL-ContentStability-1">
            <valueCodeableConcept>
              <coding>
                <system value="https://fhir.nhs.uk/STU3/CodeSystem/NRL-ContentStability-1" />
                <code value="static" />
                <display value="Static" />
              </coding>
            </valueCodeableConcept>
          </extension>
          <attachment>
            <contentType value="application/pdf" />
            <url value="https://provider-C.example.com/fhir/STU3/careconnect/binary/mhcp/94f0c43f-0a67-4de2-9291-1a3191c5c241" />
            <creation value="2020-04-23T14:49:02.930Z" />
          </attachment>
          <format>
            <system value="https://fhir.nhs.uk/STU3/CodeSystem/NRL-FormatCode-1" />
            <code value="urn:nhs-ic:unstructured" />
            <display value="Unstructured Document" />
          </format>
        </content>
        <context>
          <period>
            <start value="2020-04-23T14:49:02.930Z" />
          </period>
          <practiceSetting>
            <coding>
              <system value="http://snomed.info/sct" />
              <code value="708168004" />
              <display value="Mental health service" />
            </coding>
          </practiceSetting>
        </context>
      </DocumentReference>
    </resource>
    <search>
      <mode value="match" />
    </search>
  </entry>
  <entry>
    <resource>
      <OperationOutcome>
        <meta>
          <profile value="https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1" />
        </meta>
        <issue>
          <severity value="warning" />
          <code value="exception" />
          <details>
            <coding>
              <system value="https://fhir.nhs.uk/STU3/CodeSystem/Spine-ErrorOrWarningCode-1" />
              <code value="INVALID_REQUEST_STATE" />
              <display value="The request exists but is not in an appropriate state for the call to succeed" />
            </coding>
          </details>
          <diagnostics value="Unable to complete search request https://delay-proxy.glitch.me/status/400/DocumentReference?subject=https%3A%2F%2Fdemographics.spineservices.nhs.uk%2FSTU3%2FPatient%2F9690869035. Please contact the support team in order to help you trace the issue that led to this OperationOutcome." />
        </issue>
      </OperationOutcome>
    </resource>
    <search>
      <mode value="outcome" />
    </search>
  </entry>
</Bundle>
{% endhighlight %}
</div>

### Failure

The following errors may be triggered when performing the search interaction:
- Invalid NHS number
- Invalid parameter
- No record found
- Invalid header

The format of each error **MUST** match the [equivalent returned by the NRL](https://developer.nhs.uk/apis/nrl/guidance_errors.html).

## Exceptional Case

There is one scenario where an LRL may return an alternative response to an NRL consumer request, specifically, where the NRL's originating consumer is the LRL itself.

When this happens, the LRL may decide between the following options:
- Perform the search as normal, returning all nationally-relevant results, and filter out these pointers when performing the later merge:
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="774px" height="356px" viewBox="-0.5 -0.5 774 356" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-none-0-none-0-s-0"><stop offset="0%" style="stop-color:none;stop-opacity:0"/><stop offset="100%" style="stop-color:none;stop-opacity:0"/></linearGradient></defs><g><path d="M 107.95 235.7 L 229.43 235.68" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 233.89 235.68 L 227.94 238.66 L 229.43 235.68 L 227.94 232.71 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 22.95 222.7 L 107.95 222.7 L 107.95 273.7 L 22.95 273.7 L 22.95 222.7 Z" fill="#dae8fc" stroke="none" pointer-events="all"/><path d="M 27.2 226.95 L 27.2 269.45 L 27.2 269.45 L 103.7 269.45 L 103.7 226.95 L 27.2 226.95" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 22.95 222.7 L 107.95 222.7 L 107.95 273.7 L 22.95 273.7 L 22.95 222.7 Z" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="22.95" y="235.45" width="85" height="25.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 292px; margin-left: 77px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(12 , 76 , 204)">Consumer</span></div></div></div></foreignObject><text x="77" y="297" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Consumer</text></switch></g><path d="M 14.45 222.7 L 24.01 197.2 L 106.89 197.2 L 116.45 222.7 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" transform="translate(0,209.95)scale(1,-1)translate(0,-209.95)rotate(180,65.45,209.95)" pointer-events="all"/><path d="M 337.45 228.04 L 401.2 228.04 L 459.26 228.05" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 463.72 228.05 L 457.77 231.03 L 459.26 228.05 L 457.77 225.08 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 235.45 197.2 L 337.45 197.2 L 337.45 273.7 L 235.45 273.7 L 235.45 197.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 239.7 201.45 L 239.7 269.45 L 239.7 269.45 L 333.2 269.45 L 333.2 201.45 L 239.7 201.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 235.45 197.2 L 337.45 197.2 L 337.45 273.7 L 235.45 273.7 L 235.45 197.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="260.95" y="197.2" width="51" height="17" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 242px; margin-left: 337px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 13px">LHCR A</font></div></div></div></foreignObject><text x="337" y="246" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">LHCR A</text></switch></g><rect x="243.95" y="218.45" width="85" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 337px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#006600">Local Record<br />Locator</font><br /></font></div></div></div></foreignObject><text x="337" y="287" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Local Recor...</text></switch></g><ellipse cx="171.7" cy="218.45" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="171.7" cy="218.45" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 257px; margin-left: 192px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="202" y="261" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">1</text></switch></g><rect x="116.45" y="163.2" width="110.5" height="42.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 217px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Consumer organisation<br />makes a request via<br />their LRL.</div></div></div></foreignObject><text x="202" y="221" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">Consumer organisation...</text></switch></g><ellipse cx="401.2" cy="209.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="401.2" cy="209.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 247px; margin-left: 462px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="472" y="251" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">2</text></switch></g><rect x="345.95" y="150.45" width="110.5" height="46.75" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 205px; margin-left: 472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRL requests for any<br />national pointers<br />from the NRL.</div></div></div></foreignObject><text x="472" y="208" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRL requests for any...</text></switch></g><ellipse cx="613.7" cy="209.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="613.7" cy="209.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 247px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">5</div></div></div></foreignObject><text x="722" y="251" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">5</text></switch></g><rect x="460.7" y="14.45" width="110.5" height="80.75" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 65px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">NRL checks for<br />patient pointers held<br />for the patient and<br />queries the LRLs<br /><span><b>(including the<br />requesting LRL)</b></span>.</div></div></div></foreignObject><text x="607" y="68" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">NRL checks for...</text></switch></g><ellipse cx="515.95" cy="107.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="515.95" cy="107.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 127px; margin-left: 597px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">3</div></div></div></foreignObject><text x="607" y="131" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">3</text></switch></g><rect x="562.7" y="273.7" width="110.5" height="48.88" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 351px; margin-left: 727px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">For each patient<br />pointer, the associated<br />LRL is queried for their<br />pointers for that patient.</div></div></div></foreignObject><text x="727" y="354" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">For each patient...</text></switch></g><path d="M 664.7 197.2 L 766.7 197.2 L 766.7 273.7 L 664.7 273.7 L 664.7 197.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 668.95 201.45 L 668.95 269.45 L 668.95 269.45 L 762.45 269.45 L 762.45 201.45 L 668.95 201.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 664.7 197.2 L 766.7 197.2 L 766.7 273.7 L 664.7 273.7 L 664.7 197.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="690.2" y="197.2" width="51" height="17" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 242px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 13px">LHCR B</font></div></div></div></foreignObject><text x="842" y="246" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">LHCR B</text></switch></g><rect x="673.2" y="218.45" width="85" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#006600">Local Record<br />Locator</font><br /></font></div></div></div></foreignObject><text x="842" y="287" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Local Recor...</text></switch></g><path d="M 498.5 279.84 L 498.47 316.2 Q 498.46 324.7 489.96 324.7 L 312.44 324.7 Q 303.94 324.7 303.95 316.2 L 303.99 273.47" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 498.51 275.37 L 501.48 281.33 L 498.5 279.84 L 495.53 281.32 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 566.85 244.22 L 566.83 242.98 L 658.88 242.95" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 663.34 242.95 L 657.39 245.92 L 658.88 242.95 L 657.39 239.97 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="613.7" cy="260.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="613.7" cy="260.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 307px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">4</div></div></div></foreignObject><text x="722" y="311" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">4</text></switch></g><rect x="571.2" y="153.64" width="85" height="40.38" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 205px; margin-left: 722px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRLs return<br />national format<br />pointers.</div></div></div></foreignObject><text x="722" y="208" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRLs return...</text></switch></g><path d="M 342.76 242.94 L 465.07 242.86 L 465.14 242.85" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 338.3 242.95 L 344.25 239.97 L 342.76 242.94 L 344.25 245.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="401.2" cy="260.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="401.2" cy="260.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 307px; margin-left: 462px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">6</div></div></div></foreignObject><text x="472" y="311" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">6</text></switch></g><rect x="341.7" y="273.7" width="119" height="42.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 347px; margin-left: 472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">NRL returns<br />consolidated<br />pointers to the LRL.</div></div></div></foreignObject><text x="472" y="351" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">NRL returns...</text></switch></g><path d="M 113.19 254.93 L 235.14 254.88" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 108.73 254.93 L 114.68 251.95 L 113.19 254.93 L 114.68 257.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="171.7" cy="272.64" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="171.7" cy="272.64" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 321px; margin-left: 192px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">7</div></div></div></foreignObject><text x="202" y="325" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">7</text></switch></g><rect x="112.2" y="285.39" width="119" height="56.31" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 369px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRL returns NRL<br />consolidated<br />pointers and its own<br /><b>non-nationally available</b><br />local pointers.</div></div></div></foreignObject><text x="202" y="372" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRL returns NRL...</text></switch></g><path d="M 531.76 274.13 L 531.74 333.2 Q 531.74 341.7 523.24 341.7 L 277.1 341.7 Q 268.6 341.7 268.6 333.2 L 268.6 279.27" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 268.6 274.8 L 271.58 280.75 L 268.6 279.27 L 265.63 280.75 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="324.7" cy="303.45" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="324.7" cy="303.45" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 357px; margin-left: 372px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">5</div></div></div></foreignObject><text x="382" y="361" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">5</text></switch></g><ellipse cx="549.95" cy="298.14" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="549.95" cy="298.14" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 351px; margin-left: 637px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">4</div></div></div></foreignObject><text x="647" y="355" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">4</text></switch></g><path d="M 464.95 129.2 L 566.95 129.2 L 566.95 273.7 L 464.95 273.7 L 464.95 129.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 469.2 133.45 L 469.2 269.45 L 469.2 269.45 L 562.7 269.45 L 562.7 133.45 L 469.2 133.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 464.95 129.2 L 566.95 129.2 L 566.95 273.7 L 464.95 273.7 L 464.95 129.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="469.2" y="129.2" width="93.5" height="34" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 172px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 102 , 0) ; font-size: 14px">National</span><br style="color: rgb(0 , 102 , 0) ; font-size: 14px" /><span style="color: rgb(0 , 102 , 0) ; font-size: 14px">Record Locator</span></div></div></div></foreignObject><text x="607" y="176" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">National...</text></switch></g><rect x="469.2" y="167.45" width="93.5" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 222px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#6600cc">Patient Pointer<br />[LRCR A]</font><br /></font></div></div></div></foreignObject><text x="607" y="227" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Patient Poin...</text></switch></g><rect x="469.2" y="222.7" width="93.5" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 287px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#6600cc">Patient Pointer<br />[LRCR B]</font><br /></font></div></div></div></foreignObject><text x="607" y="292" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Patient Poin...</text></switch></g><path d="M 571.95 230.93 L 600.95 230.96 L 664.09 231.32" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 567.49 230.93 L 573.44 227.96 L 571.95 230.93 L 573.44 233.91 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>
- Not perform the search and always return an empty results set, then later merge in all locally held pointers:
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="774px" height="421px" viewBox="-0.5 -0.5 774 421" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-none-0-none-0-s-0"><stop offset="0%" style="stop-color:none;stop-opacity:0"/><stop offset="100%" style="stop-color:none;stop-opacity:0"/></linearGradient></defs><g><path d="M 107.95 235.71 L 229.43 235.68" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 233.89 235.68 L 227.94 238.66 L 229.43 235.68 L 227.94 232.71 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 22.95 222.7 L 107.95 222.7 L 107.95 273.7 L 22.95 273.7 L 22.95 222.7 Z" fill="#dae8fc" stroke="none" pointer-events="all"/><path d="M 27.2 226.95 L 27.2 269.45 L 27.2 269.45 L 103.7 269.45 L 103.7 226.95 L 27.2 226.95" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 22.95 222.7 L 107.95 222.7 L 107.95 273.7 L 22.95 273.7 L 22.95 222.7 Z" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="22.95" y="235.45" width="85" height="25.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 292px; margin-left: 77px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(12 , 76 , 204)">Consumer</span></div></div></div></foreignObject><text x="77" y="297" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Consumer</text></switch></g><path d="M 14.45 222.7 L 24.01 197.2 L 106.89 197.2 L 116.45 222.7 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" transform="translate(0,209.95)scale(1,-1)translate(0,-209.95)rotate(180,65.45,209.95)" pointer-events="all"/><path d="M 337.45 228.04 L 401.2 228.04 L 459.26 228.05" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 463.72 228.05 L 457.77 231.03 L 459.26 228.05 L 457.77 225.08 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 235.45 197.2 L 337.45 197.2 L 337.45 273.7 L 235.45 273.7 L 235.45 197.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 239.7 201.45 L 239.7 269.45 L 239.7 269.45 L 333.2 269.45 L 333.2 201.45 L 239.7 201.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 235.45 197.2 L 337.45 197.2 L 337.45 273.7 L 235.45 273.7 L 235.45 197.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="260.95" y="197.2" width="51" height="17" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 242px; margin-left: 337px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 13px">LHCR A</font></div></div></div></foreignObject><text x="337" y="246" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">LHCR A</text></switch></g><rect x="243.95" y="218.45" width="85" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 337px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#006600">Local Record<br />Locator</font><br /></font></div></div></div></foreignObject><text x="337" y="287" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Local Recor...</text></switch></g><ellipse cx="171.7" cy="218.45" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="171.7" cy="218.45" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 257px; margin-left: 192px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="202" y="261" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">1</text></switch></g><rect x="116.45" y="163.2" width="110.5" height="42.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 217px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Consumer organisation<br />makes a request via<br />their LRL.</div></div></div></foreignObject><text x="202" y="221" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">Consumer organisation...</text></switch></g><ellipse cx="401.2" cy="209.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="401.2" cy="209.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 247px; margin-left: 462px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="472" y="251" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">2</text></switch></g><rect x="345.95" y="150.45" width="110.5" height="46.75" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 205px; margin-left: 472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRL requests for any<br />national pointers<br />from the NRL.</div></div></div></foreignObject><text x="472" y="208" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRL requests for any...</text></switch></g><ellipse cx="613.7" cy="209.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="613.7" cy="209.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 247px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">5a</div></div></div></foreignObject><text x="722" y="251" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">5a</text></switch></g><rect x="460.7" y="14.45" width="110.5" height="80.75" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 65px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">NRL checks for<br />patient pointers held<br />for the patient and<br />queries the LRLs<br /><span><b>(including the<br />requesting LRL)</b></span>.</div></div></div></foreignObject><text x="607" y="68" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">NRL checks for...</text></switch></g><ellipse cx="515.95" cy="107.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="515.95" cy="107.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 127px; margin-left: 597px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">3</div></div></div></foreignObject><text x="607" y="131" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">3</text></switch></g><rect x="562.7" y="273.7" width="110.5" height="48.88" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 351px; margin-left: 727px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">For each patient<br />pointer, the associated<br />LRL is queried for their<br />pointers for that patient.</div></div></div></foreignObject><text x="727" y="354" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">For each patient...</text></switch></g><path d="M 664.7 197.2 L 766.7 197.2 L 766.7 273.7 L 664.7 273.7 L 664.7 197.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 668.95 201.45 L 668.95 269.45 L 668.95 269.45 L 762.45 269.45 L 762.45 201.45 L 668.95 201.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 664.7 197.2 L 766.7 197.2 L 766.7 273.7 L 664.7 273.7 L 664.7 197.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="690.2" y="197.2" width="51" height="17" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 242px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 13px">LHCR B</font></div></div></div></foreignObject><text x="842" y="246" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">LHCR B</text></switch></g><rect x="673.2" y="218.45" width="85" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#006600">Local Record<br />Locator</font><br /></font></div></div></div></foreignObject><text x="842" y="287" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Local Recor...</text></switch></g><path d="M 498.5 279.84 L 498.47 316.2 Q 498.46 324.7 489.96 324.7 L 312.44 324.7 Q 303.94 324.7 303.95 316.2 L 303.99 273.47" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 498.51 275.37 L 501.48 281.33 L 498.5 279.84 L 495.53 281.32 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 566.85 244.22 L 566.83 242.98 L 658.88 242.95" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 663.34 242.95 L 657.39 245.92 L 658.88 242.95 L 657.39 239.97 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="613.7" cy="260.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="613.7" cy="260.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 307px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">4</div></div></div></foreignObject><text x="722" y="311" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">4</text></switch></g><rect x="571.2" y="153.64" width="85" height="40.38" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 205px; margin-left: 722px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRL returns<br />national format<br />pointers.</div></div></div></foreignObject><text x="722" y="208" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRL returns...</text></switch></g><path d="M 342.76 242.94 L 465.07 242.86 L 465.14 242.85" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 338.3 242.95 L 344.25 239.97 L 342.76 242.94 L 344.25 245.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="401.2" cy="260.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="401.2" cy="260.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 307px; margin-left: 462px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">6</div></div></div></foreignObject><text x="472" y="311" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">6</text></switch></g><rect x="341.7" y="273.7" width="119" height="42.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 347px; margin-left: 472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">NRL returns<br />consolidated (if applicable)<br />pointers to the LRL.</div></div></div></foreignObject><text x="472" y="351" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">NRL returns...</text></switch></g><path d="M 113.19 254.93 L 235.14 254.88" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 108.73 254.93 L 114.68 251.95 L 113.19 254.93 L 114.68 257.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="171.7" cy="272.64" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="171.7" cy="272.64" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 321px; margin-left: 192px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">7</div></div></div></foreignObject><text x="202" y="325" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">7</text></switch></g><rect x="112.2" y="285.39" width="119" height="56.31" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 369px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRL returns NRL<br />consolidated pointers<br />and its own local pointers.</div></div></div></foreignObject><text x="202" y="372" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRL returns NRL...</text></switch></g><path d="M 531.76 274.13 L 531.74 333.2 Q 531.74 341.7 523.24 341.7 L 277.1 341.7 Q 268.6 341.7 268.6 333.2 L 268.6 279.27" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 268.6 274.8 L 271.58 280.75 L 268.6 279.27 L 265.63 280.75 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="469.2" cy="384.2" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="469.2" cy="384.2" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 452px; margin-left: 542px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">5b</div></div></div></foreignObject><text x="552" y="456" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">5b</text></switch></g><ellipse cx="549.95" cy="298.14" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="549.95" cy="298.14" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 351px; margin-left: 637px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">4</div></div></div></foreignObject><text x="647" y="355" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">4</text></switch></g><path d="M 464.95 129.2 L 566.95 129.2 L 566.95 273.7 L 464.95 273.7 L 464.95 129.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 469.2 133.45 L 469.2 269.45 L 469.2 269.45 L 562.7 269.45 L 562.7 133.45 L 469.2 133.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 464.95 129.2 L 566.95 129.2 L 566.95 273.7 L 464.95 273.7 L 464.95 129.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="469.2" y="129.2" width="93.5" height="34" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 172px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 102 , 0) ; font-size: 14px">National</span><br style="color: rgb(0 , 102 , 0) ; font-size: 14px" /><span style="color: rgb(0 , 102 , 0) ; font-size: 14px">Record Locator</span></div></div></div></foreignObject><text x="607" y="176" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">National...</text></switch></g><rect x="469.2" y="167.45" width="93.5" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 222px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#6600cc">Patient Pointer<br />[LRCR A]</font><br /></font></div></div></div></foreignObject><text x="607" y="227" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Patient Poin...</text></switch></g><rect x="469.2" y="222.7" width="93.5" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 287px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#6600cc">Patient Pointer<br />[LRCR B]</font><br /></font></div></div></div></foreignObject><text x="607" y="292" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Patient Poin...</text></switch></g><path d="M 571.95 230.93 L 600.95 230.96 L 664.09 231.32" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 567.49 230.93 L 573.44 227.96 L 571.95 230.93 L 573.44 233.91 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="341.7" y="362.95" width="110.5" height="51" rx="7.65" ry="7.65" fill="#ffffff" stroke="#000000" stroke-dasharray="0.8500000000000001 1.7000000000000002" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 434px; margin-left: 403px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(150 , 115 , 166) ; font-size: 12px">LRL doesn't perform a search and returns</span><span style="color: rgb(150 , 115 , 166) ; font-size: 12px">no </span><span style="color: rgb(150 , 115 , 166) ; font-size: 12px">pointers.</span></div></div></div></foreignObject><text x="467" y="448" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">LRL doesn't perform...</text></switch></g><path d="M 396.95 362.95 L 396.95 332.55" fill="none" stroke="#000000" stroke-width="1.7" stroke-miterlimit="10" stroke-dasharray="1.7000000000000002 1.7000000000000002" pointer-events="stroke"/><path d="M 396.95 327.45 L 400.35 334.25 L 396.95 332.55 L 393.55 334.25 Z" fill="#000000" stroke="#000000" stroke-width="1.7" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>

A final option, yet to be agreed, is an enhancement on the latter option where the NRL ignores patient pointers belonging to the LHCR making the NRL consumer request:
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="774px" height="349px" viewBox="-0.5 -0.5 774 349" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-none-0-none-0-s-0"><stop offset="0%" style="stop-color:none;stop-opacity:0"/><stop offset="100%" style="stop-color:none;stop-opacity:0"/></linearGradient></defs><g><path d="M 107.95 235.71 L 229.43 235.68" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 233.89 235.68 L 227.94 238.66 L 229.43 235.68 L 227.94 232.71 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 22.95 222.7 L 107.95 222.7 L 107.95 273.7 L 22.95 273.7 L 22.95 222.7 Z" fill="#dae8fc" stroke="none" pointer-events="all"/><path d="M 27.2 226.95 L 27.2 269.45 L 27.2 269.45 L 103.7 269.45 L 103.7 226.95 L 27.2 226.95" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 22.95 222.7 L 107.95 222.7 L 107.95 273.7 L 22.95 273.7 L 22.95 222.7 Z" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="22.95" y="235.45" width="85" height="25.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 292px; margin-left: 77px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(12 , 76 , 204)">Consumer</span></div></div></div></foreignObject><text x="77" y="297" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Consumer</text></switch></g><path d="M 14.45 222.7 L 24.01 197.2 L 106.89 197.2 L 116.45 222.7 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" transform="translate(0,209.95)scale(1,-1)translate(0,-209.95)rotate(180,65.45,209.95)" pointer-events="all"/><path d="M 337.45 228.04 L 401.2 228.04 L 459.26 228.05" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 463.72 228.05 L 457.77 231.03 L 459.26 228.05 L 457.77 225.08 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 235.45 197.2 L 337.45 197.2 L 337.45 273.7 L 235.45 273.7 L 235.45 197.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 239.7 201.45 L 239.7 269.45 L 239.7 269.45 L 333.2 269.45 L 333.2 201.45 L 239.7 201.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 235.45 197.2 L 337.45 197.2 L 337.45 273.7 L 235.45 273.7 L 235.45 197.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="260.95" y="197.2" width="51" height="17" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 242px; margin-left: 337px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 13px">LHCR A</font></div></div></div></foreignObject><text x="337" y="246" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">LHCR A</text></switch></g><rect x="243.95" y="218.45" width="85" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 337px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#006600">Local Record<br />Locator</font><br /></font></div></div></div></foreignObject><text x="337" y="287" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Local Recor...</text></switch></g><ellipse cx="171.7" cy="218.45" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="171.7" cy="218.45" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 257px; margin-left: 192px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="202" y="261" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">1</text></switch></g><rect x="116.45" y="163.2" width="110.5" height="42.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 217px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Consumer organisation<br />makes a request via<br />their LRL.</div></div></div></foreignObject><text x="202" y="221" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">Consumer organisation...</text></switch></g><ellipse cx="401.2" cy="209.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="401.2" cy="209.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 247px; margin-left: 462px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="472" y="251" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">2</text></switch></g><rect x="345.95" y="150.45" width="110.5" height="46.75" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 205px; margin-left: 472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRL requests for any<br />national pointers<br />from the NRL.</div></div></div></foreignObject><text x="472" y="208" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRL requests for any...</text></switch></g><ellipse cx="613.7" cy="260.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="613.7" cy="260.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 307px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">5</div></div></div></foreignObject><text x="722" y="311" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">5</text></switch></g><rect x="460.7" y="14.45" width="110.5" height="80.75" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 65px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">NRL checks for<br />patient pointers held<br />for the patient and<br />queries the LRLs<br /><span><b>(excluding the<br />requesting LRL)</b></span>.</div></div></div></foreignObject><text x="607" y="68" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">NRL checks for...</text></switch></g><ellipse cx="515.95" cy="107.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="515.95" cy="107.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 127px; margin-left: 597px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">3</div></div></div></foreignObject><text x="607" y="131" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">3</text></switch></g><rect x="562.7" y="105.83" width="110.5" height="80.75" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 172px; margin-left: 727px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">For each patient<br />pointer <b>(excluding<br />any created by the<br />requesting LRL)</b>,<br />the associated LRL<br />is queried for their<br />pointers for<br />that patient.</div></div></div></foreignObject><text x="727" y="176" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">For each patient...</text></switch></g><path d="M 664.7 197.2 L 766.7 197.2 L 766.7 273.7 L 664.7 273.7 L 664.7 197.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 668.95 201.45 L 668.95 269.45 L 668.95 269.45 L 762.45 269.45 L 762.45 201.45 L 668.95 201.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 664.7 197.2 L 766.7 197.2 L 766.7 273.7 L 664.7 273.7 L 664.7 197.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="690.2" y="197.2" width="51" height="17" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 242px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 13px">LHCR B</font></div></div></div></foreignObject><text x="842" y="246" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">LHCR B</text></switch></g><rect x="673.2" y="218.45" width="85" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#006600">Local Record<br />Locator</font><br /></font></div></div></div></foreignObject><text x="842" y="287" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Local Recor...</text></switch></g><path d="M 572.26 243.06 L 664.34 242.98 L 664.29 242.95" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 567.8 243.07 L 573.75 240.08 L 572.26 243.06 L 573.75 246.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="613.7" cy="209.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="613.7" cy="209.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 247px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">4</div></div></div></foreignObject><text x="722" y="251" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">4</text></switch></g><rect x="571.2" y="275.83" width="85" height="40.38" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 348px; margin-left: 722px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRL returns<br />national format<br />pointers.</div></div></div></foreignObject><text x="722" y="352" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRL returns...</text></switch></g><path d="M 342.76 242.94 L 465.07 242.86 L 465.14 242.84" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 338.3 242.95 L 344.25 239.97 L 342.76 242.94 L 344.25 245.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="401.2" cy="260.95" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="401.2" cy="260.95" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 307px; margin-left: 462px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">6</div></div></div></foreignObject><text x="472" y="311" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">6</text></switch></g><rect x="341.7" y="273.7" width="119" height="42.5" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 347px; margin-left: 472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">NRL returns<br />consolidated<br />pointers to the LRL.</div></div></div></foreignObject><text x="472" y="351" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">NRL returns...</text></switch></g><path d="M 113.19 254.93 L 235.14 254.88" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="stroke"/><path d="M 108.73 254.93 L 114.68 251.95 L 113.19 254.93 L 114.68 257.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="171.7" cy="272.64" rx="12.750000000000004" ry="12.750000000000004" fill="#e1d5e7" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><ellipse cx="171.7" cy="272.64" rx="9.350000000000003" ry="9.350000000000003" fill="none" stroke="#9673a6" stroke-dasharray="2.5500000000000003 2.5500000000000003" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 20px; height: 1px; padding-top: 321px; margin-left: 192px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">7</div></div></div></foreignObject><text x="202" y="325" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">7</text></switch></g><rect x="112.2" y="285.39" width="119" height="56.31" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 369px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #9673A6; line-height: 1.2; pointer-events: all; white-space: nowrap; ">LRL returns NRL<br />consolidated<br />pointers and its own<br />local pointers.</div></div></div></foreignObject><text x="202" y="372" fill="#9673A6" font-family="Helvetica" font-size="12px" text-anchor="middle">LRL returns NRL...</text></switch></g><path d="M 464.95 129.2 L 566.95 129.2 L 566.95 273.7 L 464.95 273.7 L 464.95 129.2 Z" fill="#d5e8d4" stroke="none" pointer-events="all"/><path d="M 469.2 133.45 L 469.2 269.45 L 469.2 269.45 L 562.7 269.45 L 562.7 133.45 L 469.2 133.45" fill="url(#mx-gradient-none-0-none-0-s-0)" stroke="none" pointer-events="all"/><path d="M 464.95 129.2 L 566.95 129.2 L 566.95 273.7 L 464.95 273.7 L 464.95 129.2 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><rect x="469.2" y="129.2" width="93.5" height="34" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 172px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 102 , 0) ; font-size: 14px">National</span><br style="color: rgb(0 , 102 , 0) ; font-size: 14px" /><span style="color: rgb(0 , 102 , 0) ; font-size: 14px">Record Locator</span></div></div></div></foreignObject><text x="607" y="176" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">National...</text></switch></g><rect x="469.2" y="167.45" width="93.5" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 222px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#6600cc">Patient Pointer<br />[LRCR A]</font><br /></font></div></div></div></foreignObject><text x="607" y="227" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Patient Poin...</text></switch></g><rect x="469.2" y="222.7" width="93.5" height="42.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.8500000000000001)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="118%" height="118%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 287px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font style="font-size: 14px"><font color="#6600cc">Patient Pointer<br />[LRCR B]</font><br /></font></div></div></div></foreignObject><text x="607" y="292" fill="#000000" font-family="Helvetica" font-size="18px" text-anchor="middle">Patient Poin...</text></switch></g><path d="M 566.54 230.93 L 600.95 230.96 L 658.68 231.29" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 663.14 231.31 L 657.17 234.25 L 658.68 231.29 L 657.2 228.3 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>

# More Qns:

- RETRY with longer timeout if timeout error present in response??
- LIMIT to just certain LRLs?
- Central index of pointers/ how to get patient pointers up?? Do we need to call every time?
- For aggregated pointers, does the original consumer know which LRL the pointer came from?